"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[827],{66461:function(e,t,r){r.d(t,{c:function(){return o}});var n=r(57437),a=r(57818),s=r(2265);let l=(0,a.default)(()=>r.e(657).then(r.bind(r,87657)),{loadableGenerated:{webpack:()=>[87657]},ssr:!1});function o(e){let{nodes:t,edges:r}=e,a=(0,s.useRef)(null),o=(0,s.useMemo)(()=>t.filter(e=>!e.hidden),[t]),i=(0,s.useMemo)(()=>r.filter(e=>!e.hidden),[r]),d=(0,s.useMemo)(()=>{let e=e=>String(null!=e?e:"").trim().toLowerCase().replace(/\s+/g,"_"),t=new Set(o.map(t=>e(t.id)));return{nodes:o.map(t=>{let r=e(t.id),n="technology"===t.type.toLowerCase();return{id:r,type:t.type,url:t.url,fx:n?0:void 0,fy:n?0:void 0}}),links:i.map(t=>({source:e(t.source),target:e(t.target),relation:t.relation})).filter(e=>t.has(e.source)&&t.has(e.target))}},[o,i]);return(0,s.useEffect)(()=>{var e,t;a.current&&(null===(e=a.current.d3Force("charge"))||void 0===e||e.strength(-120),null===(t=a.current.d3Force("link"))||void 0===t||t.distance(80))},[d]),(0,s.useEffect)(()=>{if(!a.current)return;let e=setTimeout(()=>{a.current.zoomToFit(600,140)},500);return()=>clearTimeout(e)},[d]),(0,n.jsx)("div",{className:"h-[520px] w-full rounded-lg border bg-background overflow-hidden",children:(0,n.jsx)(l,{ref:a,graphData:d,nodeAutoColorBy:"type",nodeRelSize:6,d3VelocityDecay:.35,d3AlphaDecay:.02,nodeLabel:e=>"".concat(e.id," (").concat(e.type,")"),linkLabel:e=>e.relation,linkDirectionalArrowLength:4,linkDirectionalArrowRelPos:1,linkColor:()=>"#9ca3af",cooldownTicks:250,onEngineStop:()=>{var e;null===(e=a.current)||void 0===e||e.zoomToFit(600,140)},onNodeClick:e=>{e.url&&window.open(e.url,"_blank")}})})}},13794:function(e,t,r){r.d(t,{T:function(){return o}});var n=r(57437),a=r(38296),s=r(92699),l=r(2265);function o(){let[e,t]=(0,l.useState)(null),[r,o]=(0,l.useState)(!1);(0,l.useEffect)(()=>{o(!0);let e=localStorage.getItem("theme"),r=window.matchMedia("(prefers-color-scheme: dark)").matches,n=e||(r?"dark":"light");t(n),i(n)},[]);let i=e=>{let t=document.documentElement;"dark"===e?t.classList.add("dark"):t.classList.remove("dark"),localStorage.setItem("theme",e)};return r?(0,n.jsx)("button",{onClick:()=>{let r="dark"===e?"light":"dark";t(r),i(r)},className:"p-2 rounded-lg bg-secondary hover:bg-secondary/80 transition-colors border border-border","aria-label":"Toggle theme",children:"dark"===e?(0,n.jsx)(a.Z,{className:"w-5 h-5 text-foreground"}):(0,n.jsx)(s.Z,{className:"w-5 h-5 text-foreground"})}):null}},56828:function(e,t,r){r.d(t,{Zb:function(){return o},aY:function(){return u},SZ:function(){return c},Ol:function(){return i},ll:function(){return d}});var n=r(57437);r(2265);var a=r(44839),s=r(96164);function l(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return(0,s.m6)((0,a.W)(t))}function o(e){let{className:t,...r}=e;return(0,n.jsx)("div",{"data-slot":"card",className:l("bg-card text-card-foreground flex flex-col gap-6 rounded-xl border py-6 shadow-sm",t),...r})}function i(e){let{className:t,...r}=e;return(0,n.jsx)("div",{"data-slot":"card-header",className:l("@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-2 px-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6",t),...r})}function d(e){let{className:t,...r}=e;return(0,n.jsx)("div",{"data-slot":"card-title",className:l("leading-none font-semibold",t),...r})}function c(e){let{className:t,...r}=e;return(0,n.jsx)("div",{"data-slot":"card-description",className:l("text-muted-foreground text-sm",t),...r})}function u(e){let{className:t,...r}=e;return(0,n.jsx)("div",{"data-slot":"card-content",className:l("px-6",t),...r})}},80683:function(e,t,r){r.d(t,{w:function(){return y}});var n=r(57437),a=r(56828),s=r(35231),l=r(27561),o=r(54142),i=r(2842),d=r(9542),c=r(85475),u=r(86991),h=r(25974),x=r(45745),m=r(92566),f=r(16638),p=r(78116),j=r(92893),g=r(85811);function y(e){let{trendCurve:t=[],countryInvestment:r={},patentTimeline:y=[],marketReports:v=[]}=e,k=t.length>0?t.map((e,t)=>({step:"T".concat(t+1),value:e})):[],b=r&&Object.keys(r).length>0?Object.entries(r).map(e=>{let[t,r]=e;return{country:t,value:r}}):[],w=(v||[]).map((e,t)=>{if(!e.market_size||"string"!=typeof e.market_size)return null;let r=parseFloat(e.market_size.replace(/[^0-9.]/g,""));return isNaN(r)?null:{source:"Report ".concat(t+1),value:r,title:e.title}}).filter(Boolean),N=w.map(e=>e&&"number"==typeof e.value?e.value:null).filter(e=>null!==e),S=function(e){if(0===e.length)return null;let t=[...e].sort((e,t)=>e-t),r=e=>{let r=e/100*(t.length-1),n=Math.floor(r),a=Math.ceil(r);return n===a?t[n]:t[n]+(t[a]-t[n])*(r-n)};return{min:t[0],q1:r(25),median:r(50),q3:r(75),max:t[t.length-1]}}(N),D=w.map(e=>({x:.4*Math.random()-.2,y:e.value,title:e.title||"Unknown source"})),M=k.length>0,_=b.length>0,T=y.length>0;return console.log("marketValues:",N),console.log("boxStats:",S),console.log("scatterData:",D),S&&(S.min,S.q1,S.median,S.q3,S.max),(0,n.jsxs)("div",{className:"space-y-6",children:[(0,n.jsxs)(a.Zb,{children:[(0,n.jsxs)(a.Ol,{children:[(0,n.jsx)(a.ll,{children:"Market Forecasting"}),(0,n.jsx)(a.SZ,{children:"Technology adoption trend derived from ML analysis"})]}),(0,n.jsx)(a.aY,{children:M?(0,n.jsx)(s.h,{width:"100%",height:300,children:(0,n.jsxs)(l.T,{data:k,children:[(0,n.jsx)("defs",{children:(0,n.jsxs)("linearGradient",{id:"trendFill",x1:"0",y1:"0",x2:"0",y2:"1",children:[(0,n.jsx)("stop",{offset:"5%",stopOpacity:.3}),(0,n.jsx)("stop",{offset:"95%",stopOpacity:0})]})}),(0,n.jsx)(o.q,{strokeDasharray:"3 3"}),(0,n.jsx)(i.K,{dataKey:"step"}),(0,n.jsx)(d.B,{}),(0,n.jsx)(c.u,{}),(0,n.jsx)(u.u,{type:"monotone",dataKey:"value",strokeWidth:2,fill:"url(#trendFill)",name:"Adoption Trend"})]})}):(0,n.jsx)("p",{className:"text-sm text-muted-foreground",children:"No trend data available yet."})})]}),(0,n.jsxs)(a.Zb,{children:[(0,n.jsxs)(a.Ol,{children:[(0,n.jsx)(a.ll,{children:"Relative Investment Index"}),(0,n.jsx)(a.SZ,{children:"Country-wise relative investment inferred from patents, research output, and industrial presence"})]}),(0,n.jsx)(a.aY,{children:_?(0,n.jsx)(s.h,{width:"100%",height:300,children:(0,n.jsxs)(h.v,{data:b,children:[(0,n.jsx)(o.q,{strokeDasharray:"3 3"}),(0,n.jsx)(i.K,{dataKey:"country"}),(0,n.jsx)(d.B,{}),(0,n.jsx)(c.u,{}),(0,n.jsx)(x.$,{dataKey:"value",fill:"#003f60",radius:[8,8,0,0]})]})}):(0,n.jsx)("p",{className:"text-sm text-muted-foreground",children:"Investment data not available."})})]}),(0,n.jsxs)(a.Zb,{children:[(0,n.jsxs)(a.Ol,{children:[(0,n.jsx)(a.ll,{children:"Patent Activity Timeline"}),(0,n.jsx)(a.SZ,{children:"Historical patent filing trends (ML-derived)"})]}),(0,n.jsx)(a.aY,{children:T?(0,n.jsx)(s.h,{width:"100%",height:300,children:(0,n.jsxs)(m.w,{data:y,children:[(0,n.jsx)(o.q,{strokeDasharray:"3 3"}),(0,n.jsx)(i.K,{dataKey:"year"}),(0,n.jsx)(d.B,{}),(0,n.jsx)(c.u,{}),(0,n.jsx)(f.x,{type:"monotone",dataKey:"count",strokeWidth:3,dot:{r:5},name:"Patents Filed"})]})}):(0,n.jsx)("p",{className:"text-sm text-muted-foreground",children:"No patent activity available yet."})})]}),S&&(0,n.jsxs)(a.Zb,{children:[(0,n.jsxs)(a.Ol,{children:[(0,n.jsx)(a.ll,{children:"Market Size Estimate Distribution"}),(0,n.jsx)(a.SZ,{children:"Independent market size estimates across reports"})]}),(0,n.jsxs)(a.aY,{children:[(0,n.jsx)(s.h,{width:"100%",height:320,children:(0,n.jsxs)(p.G,{children:[(0,n.jsx)(i.K,{type:"number",dataKey:"x",domain:[-5,5],hide:!0}),(0,n.jsx)(d.B,{label:{value:"Market Size (USD Billion)",angle:-90,position:"insideLeft",style:{textAnchor:"middle"},offset:10},domain:[e=>Math.floor(.9*e),e=>Math.ceil(1.1*e)]}),(0,n.jsx)(o.q,{strokeDasharray:"3 3"}),(0,n.jsx)(j.d,{y:S.min,stroke:"#94a3b8",strokeDasharray:"3 3"}),(0,n.jsx)(j.d,{y:S.median,stroke:"#0f172a",strokeWidth:3}),(0,n.jsx)(j.d,{y:S.max,stroke:"#94a3b8",strokeDasharray:"3 3"}),(0,n.jsx)(g.b,{data:D,dataKey:"y",fill:"#2563eb"}),(0,n.jsx)(c.u,{cursor:{strokeDasharray:"3 3"},content:e=>{let{payload:t}=e;if(!t||!t.length)return null;let r=t[0].payload;return(0,n.jsxs)("div",{className:"rounded-md border bg-background px-3 py-2 shadow-sm",children:[(0,n.jsx)("div",{className:"text-sm font-medium",children:r.title}),(0,n.jsxs)("div",{className:"text-xs text-muted-foreground mt-1",children:["Market Size: ",r.y.toFixed(1)," B USD"]})]})}})]})}),(0,n.jsxs)("div",{className:"mt-4 grid grid-cols-3 gap-1 text-sm text-muted-foreground",children:[(0,n.jsxs)("div",{children:["Min: ",S.min.toFixed(1)," B"]}),(0,n.jsxs)("div",{children:["Median: ",S.median.toFixed(1)," B"]}),(0,n.jsxs)("div",{children:["Max: ",S.max.toFixed(1)," B"]})]})]})]})]})}},79776:function(e,t,r){r.d(t,{o:function(){return n}});function n(e,t){if(!(null==e?void 0:e.nodes)||!(null==e?void 0:e.edges))return e;let r=e.nodes.map(e=>{let r=t.nodeTypes[e.type],n=!t.keyword||e.id.toLowerCase().includes(t.keyword.toLowerCase());return{...e,hidden:!(r&&n)}}),n=new Set(r.filter(e=>!e.hidden).map(e=>e.id)),a=e.edges.map(e=>{let r=t.relations[e.relation],a=n.has(e.source)&&n.has(e.target);return{...e,hidden:!(r&&a)}});return{...e,nodes:r,edges:a}}},43518:function(e,t,r){r.d(t,{$v:function(){return a},js:function(){return n}});let n={patentYearRange:[2010,new Date().getFullYear()],country:null,entities:{patents:!0,papers:!0,companies:!0},marketReports:{forecastOnly:!1,cagrOnly:!1,marketSizeRange:[0,500]},patentDensity:{minCount:1,topN:null}},a={nodeTypes:{technology:!0,patent:!0,paper:!0,company:!0,country:!1},relations:{HAS_PATENT:!0,HAS_PAPER:!0,INVOLVES_COMPANY:!0,FILED_IN:!1,LOCATED_IN:!1},minDegree:1,keyword:null}},54663:function(e,t,r){var n;r.d(t,{z:function(){return a}});let a=null!==(n=r(20357).env.NEXT_PUBLIC_BACKEND_URL)&&void 0!==n?n:"http://localhost:3001"}}]);