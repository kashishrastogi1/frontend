(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[702],{59202:function(e,s,t){Promise.resolve().then(t.bind(t,5759))},5759:function(e,s,t){"use strict";t.r(s),t.d(s,{default:function(){return S}});var a=t(57437),n=t(54663),l=t(2265),r=t(16463),i=t(87138),c=t(70518),o=t(56828);function d(e){let{baseTech:s}=e,t=(0,r.useRouter)(),[n,i]=(0,l.useState)(!1);return(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsxs)("button",{onClick:()=>i(e=>!e),className:"border px-4 py-2 rounded-md bg-background hover:bg-muted flex items-center gap-2",children:["Compare",(0,a.jsx)("span",{className:"text-xs",children:"▾"})]}),n&&(0,a.jsxs)("div",{className:"absolute right-0 mt-2 w-56 rounded-md border bg-background shadow-lg z-50",children:[(0,a.jsx)("button",{className:"w-full text-left px-4 py-2 hover:bg-muted",onClick:()=>{t.push("/compare?base=".concat(s)),i(!1)},children:"Compare with one technology"}),(0,a.jsx)("button",{className:"w-full text-left px-4 py-2 hover:bg-muted",onClick:()=>{t.push("/compare/multi?base=".concat(s)),i(!1)},children:"Multi-tech comparison"})]})]})}function m(e){let{techName:s}=e;return(0,a.jsx)(o.Zb,{className:"mb-8 bg-gradient-to-r from-primary/5 to-accent/5 border-primary/20",children:(0,a.jsxs)("div",{className:"p-8 flex items-start justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h1",{className:"text-4xl font-bold mb-2 capitalize",children:s}),(0,a.jsx)("p",{className:"text-muted-foreground",children:"Comprehensive technology intelligence and market analysis"})]}),(0,a.jsx)(d,{baseTech:s.toLowerCase()})]})})}var x=t(94207),u=t(53225),p=t(93409),h=t(55430);function j(e){let{insights:s}=e,t=[{id:"1",title:"Technology Readiness",description:"Current maturity level assessment",metric:"TRL Level",value:"".concat(s.trl,"/9"),icon:(0,a.jsx)(x.Z,{className:"w-5 h-5"}),status:"increasing"},{id:"2",title:"S-Curve Position",description:"Adoption and market penetration",metric:"Stage",value:s.growth_stage,icon:(0,a.jsx)(u.Z,{className:"w-5 h-5"}),status:"increasing"},{id:"3",title:"Market Size",description:"Projected market value",metric:"TAM",value:"$".concat(s.market_size_billion_usd,"B"),icon:(0,a.jsx)(p.Z,{className:"w-5 h-5"}),status:"increasing"},{id:"4",title:"Tech Convergence",description:"Related technology intersections",metric:"Signals",value:s.signals,icon:(0,a.jsx)(h.Z,{className:"w-5 h-5"}),status:"stable"}];return(0,a.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:t.map(e=>(0,a.jsxs)(o.Zb,{className:"hover:border-primary/30 transition-all hover:shadow-sm",children:[(0,a.jsx)(o.Ol,{className:"pb-3",children:(0,a.jsxs)("div",{className:"flex items-start justify-between",children:[(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsx)(o.ll,{className:"text-sm font-semibold",children:e.title}),(0,a.jsx)(o.SZ,{className:"text-xs mt-1",children:e.description})]}),(0,a.jsx)("div",{className:"text-primary/50 flex-shrink-0",children:e.icon})]})}),(0,a.jsx)(o.aY,{children:(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)("div",{className:"text-2xl font-bold text-foreground",children:e.value}),(0,a.jsx)("p",{className:"text-xs text-muted-foreground",children:e.metric})]})})]},e.id))})}var f=t(80683),g=t(78670),b=t(22023),v=t(36127),N=t(74232);function y(e){let{alerts:s=[],companies:t=[],publications:n=[],patents:l=[],filters:r,setFilters:i,minPatentYear:c,maxPatentYear:d}=e,m=e=>{switch(e){case"market":return(0,a.jsx)(u.Z,{className:"w-4 h-4 text-blue-500"});case"patent":return(0,a.jsx)(b.Z,{className:"w-4 h-4 text-purple-500"});default:return(0,a.jsx)(v.Z,{className:"w-4 h-4 text-yellow-500"})}};return(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)(o.Zb,{children:[(0,a.jsxs)(o.Ol,{children:[(0,a.jsx)(o.ll,{className:"text-sm font-semibold",children:"Filters"}),(0,a.jsx)(o.SZ,{className:"text-xs",children:"Refine technology insights"})]}),(0,a.jsxs)(o.aY,{className:"space-y-5",children:[(0,a.jsxs)("div",{children:[(0,a.jsxs)("p",{className:"text-xs mb-2",children:["Patent Year Range: ",r.patentYearRange[0]," – ",r.patentYearRange[1]]}),(0,a.jsxs)(g.fC,{className:"relative flex items-center select-none touch-none w-full h-5",min:c,max:d,step:1,value:r.patentYearRange,onValueChange:e=>i(s=>({...s,patentYearRange:e})),children:[(0,a.jsx)(g.fQ,{className:"bg-muted relative grow rounded-full h-1",children:(0,a.jsx)(g.e6,{className:"absolute bg-primary rounded-full h-full"})}),(0,a.jsx)(g.bU,{className:"block w-4 h-4 bg-primary rounded-full"}),(0,a.jsx)(g.bU,{className:"block w-4 h-4 bg-primary rounded-full"})]}),(0,a.jsxs)("div",{className:"flex justify-between text-[10px] text-muted-foreground mt-1",children:[(0,a.jsx)("span",{children:c}),(0,a.jsx)("span",{children:d})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-xs font-medium mb-2",children:"Show Entities"}),["patents","papers","companies"].map(e=>(0,a.jsxs)("label",{className:"flex items-center gap-2 text-sm mb-1",children:[(0,a.jsx)("input",{type:"checkbox",checked:r.entities[e],onChange:s=>i(t=>({...t,entities:{...t.entities,[e]:s.target.checked}}))}),e.charAt(0).toUpperCase()+e.slice(1)]},e))]})]})]}),(0,a.jsxs)(o.Zb,{children:[(0,a.jsx)(o.Ol,{children:(0,a.jsx)(o.ll,{className:"text-sm font-semibold",children:"Alert Panel"})}),(0,a.jsxs)(o.aY,{className:"space-y-3",children:[0===s.length&&(0,a.jsx)("p",{className:"text-xs text-muted-foreground",children:"No alerts yet"}),s.map((e,s)=>(0,a.jsxs)("div",{className:"flex gap-3 border border-border rounded-md p-3",children:[m(e.type),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm font-medium",children:e.message}),(0,a.jsx)("p",{className:"text-xs text-muted-foreground",children:e.time})]})]},s))]})]}),(0,a.jsxs)(o.Zb,{children:[(0,a.jsxs)(o.Ol,{className:"pb-3",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(N.Z,{className:"w-4 h-4 text-primary"}),(0,a.jsx)(o.ll,{className:"text-base",children:"Related Companies"})]}),(0,a.jsx)(o.SZ,{className:"text-xs",children:"Key players in the ecosystem"})]}),(0,a.jsxs)(o.aY,{className:"max-h-[260px] overflow-y-auto space-y-2 pr-1",children:[0===t.length&&(0,a.jsx)("p",{className:"text-xs text-muted-foreground",children:"No companies available"}),t.map((e,s)=>(0,a.jsxs)("div",{className:"p-2 rounded-md border border-border/30 bg-secondary/30",children:[e.link?(0,a.jsx)("a",{href:e.link,target:"_blank",rel:"noopener noreferrer",className:"text-sm font-medium text-primary hover:underline",children:e.name}):(0,a.jsx)("p",{className:"text-sm font-medium",children:e.name}),e.description&&(0,a.jsx)("p",{className:"text-xs text-muted-foreground mt-1",children:e.description})]},s))]})]}),(0,a.jsxs)(o.Zb,{children:[(0,a.jsxs)(o.Ol,{className:"pb-3",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(b.Z,{className:"w-4 h-4 text-accent"}),(0,a.jsx)(o.ll,{className:"text-base",children:"Publications"})]}),(0,a.jsx)(o.SZ,{className:"text-xs",children:"Research & analysis sources"})]}),(0,a.jsxs)(o.aY,{className:"max-h-[260px] overflow-y-auto space-y-2 pr-1",children:[0===n.length&&(0,a.jsx)("p",{className:"text-xs text-muted-foreground",children:"No publications available"}),n.map((e,s)=>{let t=function(e){let s=/https?:\/\/[^\s]+/g,t=e.match(s);return{link:t?t[0]:null,cleanTitle:e.replace(s,"").replace(/:\s*$/,"").trim()}}(e.title),n=e.link||t.link,l=t.cleanTitle||e.title;return(0,a.jsx)("div",{className:"p-2 rounded-md border border-border/30 bg-secondary/30",children:n?(0,a.jsx)("a",{href:n,target:"_blank",rel:"noopener noreferrer",className:"text-sm font-medium text-primary hover:underline",children:l}):(0,a.jsx)("p",{className:"text-sm",children:l})},s)})]})]}),(0,a.jsxs)(o.Zb,{children:[(0,a.jsxs)(o.Ol,{className:"pb-3",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(b.Z,{className:"w-4 h-4 text-purple-500"}),(0,a.jsx)(o.ll,{className:"text-base",children:"Patents"})]}),(0,a.jsx)(o.SZ,{className:"text-xs",children:"Key filed patents (ML-derived)"})]}),(0,a.jsxs)(o.aY,{className:"max-h-[260px] overflow-y-auto space-y-2 pr-1",children:[0===l.length&&(0,a.jsx)("p",{className:"text-xs text-muted-foreground",children:"No patents available"}),l.map((e,s)=>{var t;return(0,a.jsxs)("div",{className:"p-2 rounded-md border border-border/30 bg-secondary/30",children:[e.link?(0,a.jsx)("a",{href:e.link,target:"_blank",rel:"noopener noreferrer",className:"text-sm font-medium text-primary hover:underline",children:e.title}):(0,a.jsx)("p",{className:"text-sm font-medium",children:e.title}),e.year&&(0,a.jsxs)("p",{className:"text-xs text-muted-foreground",children:["Year: ",e.year," \xb7 TRL: ",null!==(t=e.trl)&&void 0!==t?t:"N/A"]})]},s)})]})]})]})}var w=t(66461),k=t(43518),C=t(13794),_=t(79776);function Z(e){let{color:s,label:t}=e;return(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("span",{className:"w-3 h-3 rounded-full ".concat(s)}),(0,a.jsx)("span",{className:"text-muted-foreground text-xs",children:t})]})}function R(){var e,s,t,o,d,x,u,p,h,g,b,v,N;let R=((0,r.useSearchParams)().get("tech")||"hypersonics").toLowerCase(),[S,Y]=(0,l.useState)(null),[T,L]=(0,l.useState)(null),[M,P]=(0,l.useState)(!0),[O,z]=(0,l.useState)(null),[E,A]=(0,l.useState)(k.js),[D,U]=(0,l.useState)(k.$v);(0,l.useEffect)(()=>{let e=!1;return async function(){try{z(null),Y(null);let l=encodeURIComponent(R),r=await fetch("".concat(n.z,"/api/technology/").concat(l));if(404===r.status){if(console.warn("⚠️ Cache miss. Triggering ML pipeline..."),!(await fetch("".concat(n.z,"/api/technology/").concat(l),{method:"POST"})).ok)throw Error("ML pipeline failed");r=await fetch("".concat(n.z,"/api/technology/").concat(l))}if(!r.ok)throw Error("Technology data not available");let i=await r.json();if(!e){var s,t,a;Y(null!==(t=null!==(s=i.dashboard)&&void 0!==s?s:i.data)&&void 0!==t?t:i),L(null!==(a=i.knowledge_graph)&&void 0!==a?a:null)}}catch(s){console.error(s),e||z("Technology data not available")}}(),()=>{e=!0}},[R]),(0,l.useEffect)(()=>{var e,s;if(!(null==S?void 0:null===(s=S.entities)||void 0===s?void 0:null===(e=s.patents)||void 0===e?void 0:e.length))return;let t=S.entities.patents.map(e=>e.year).filter(e=>"number"==typeof e);if(!t.length)return;let a=Math.min(...t),n=Math.max(...t);A(e=>({...e,patentYearRange:[a,n]}))},[S]);let F=(0,l.useMemo)(()=>(function(e,s){var t;if(!e||!e.entities)return e;let a={...e,entities:{...e.entities}};if(s.entities.patents&&(null===(t=e.entities)||void 0===t?void 0:t.patents)?a.entities.patents=e.entities.patents.filter(e=>{if("number"==typeof e.year&&(e.year<s.patentYearRange[0]||e.year>s.patentYearRange[1]))return!1;if(s.country){var t,a;let n=s.country.toLowerCase();if(!"".concat(null!==(t=e.title)&&void 0!==t?t:""," ").concat(null!==(a=e.snippet)&&void 0!==a?a:"").toLowerCase().includes(n))return!1}return!0}):a.entities.patents=[],e.patent_timeline){let t=[...e.patent_timeline];t=t.filter(e=>e.year>=s.patentYearRange[0]&&e.year<=s.patentYearRange[1]),s.patentDensity.minCount>1&&(t=t.filter(e=>e.count>=s.patentDensity.minCount)),s.patentDensity.topN&&(t=t.sort((e,s)=>s.count-e.count).slice(0,s.patentDensity.topN).sort((e,s)=>e.year-s.year)),a.patent_timeline=t}return s.entities.papers&&e.entities.papers?a.entities.papers=e.entities.papers.filter(e=>{var t,a;if(!s.country)return!0;let n=s.country.toLowerCase();return(null===(t=e.title)||void 0===t?void 0:t.toLowerCase().includes(n))||(null===(a=e.snippet)||void 0===a?void 0:a.toLowerCase().includes(n))}):a.entities.papers=[],s.entities.companies&&e.entities.companies?a.entities.companies=e.entities.companies.filter(e=>{var t,a;if(!s.country)return!0;let n=s.country.toLowerCase();return(null===(t=e.name)||void 0===t?void 0:t.toLowerCase().includes(n))||(null===(a=e.description)||void 0===a?void 0:a.toLowerCase().includes(n))}):a.entities.companies=[],a})(S,E),[S,E]),I=(0,l.useMemo)(()=>{var e;return(null==S?void 0:null===(e=S.patent_timeline)||void 0===e?void 0:e.length)?S.patent_timeline.map(e=>e.year).filter(e=>"number"==typeof e):[]},[S]),G=I.length>0?Math.min(...I):2010,K=I.length>0?Math.max(...I):new Date().getFullYear(),$=(0,l.useMemo)(()=>T?(0,_.o)(T,D):null,[T,D]);return O?(0,a.jsx)("div",{className:"min-h-screen flex items-center justify-center",children:(0,a.jsx)("p",{className:"text-red-500 text-sm",children:O})}):F?(console.log("marketValues:",S),(0,a.jsxs)("main",{className:"min-h-screen bg-background",children:[(0,a.jsx)("header",{className:"border-b bg-background/95 backdrop-blur-sm sticky top-0 z-50",children:(0,a.jsxs)("div",{className:"mx-auto max-w-7xl px-4 py-4 flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"flex items-center gap-4",children:[(0,a.jsxs)(i.default,{href:"/",className:"flex items-center gap-2 text-primary",children:[(0,a.jsx)(c.Z,{className:"w-5 h-5"}),(0,a.jsx)("span",{className:"text-sm font-medium",children:"Back"})]}),(0,a.jsx)("h1",{className:"text-2xl font-bold",children:"TechIntel"})]}),(0,a.jsx)("div",{className:"flex items-center",children:(0,a.jsx)(C.T,{})})]})}),(0,a.jsxs)("div",{className:"mx-auto max-w-7xl px-4 py-8 space-y-6",children:[(0,a.jsx)(m,{techName:decodeURIComponent(R)}),(0,a.jsx)(j,{insights:F.summary}),(0,a.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[(0,a.jsxs)("div",{className:"lg:col-span-2",children:[(0,a.jsx)(f.w,{trendCurve:null!==(x=F.trend_curve)&&void 0!==x?x:[],countryInvestment:null!==(u=F.country_investment.values)&&void 0!==u?u:[],patentTimeline:null!==(p=F.patent_timeline)&&void 0!==p?p:[],marketReports:null!==(h=null===(e=F.entities)||void 0===e?void 0:e.market_reports)&&void 0!==h?h:[]}),T&&(null===(s=T.nodes)||void 0===s?void 0:s.length)>0&&(0,a.jsxs)("div",{className:"mt-6 rounded-xl border bg-card p-4",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,a.jsx)("h2",{className:"text-sm font-semibold",children:"Knowledge Graph"}),(0,a.jsx)("button",{onClick:()=>P(!M),className:"px-3 py-1.5 text-xs rounded-md border bg-background hover:bg-muted transition",children:M?"Hide Graph":"Show Graph"})]}),M&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("div",{className:"flex flex-wrap gap-4 mb-3",children:[(0,a.jsx)(Z,{color:"bg-sky-300",label:"Technology"}),(0,a.jsx)(Z,{color:"bg-green-500",label:"Company"}),(0,a.jsx)(Z,{color:"bg-blue-600",label:"Patent"}),(0,a.jsx)(Z,{color:"bg-green-200",label:"Paper"}),(0,a.jsx)(Z,{color:" bg-pink-300",label:"Country"})]}),(0,a.jsxs)("div",{className:"mb-4 space-y-3 rounded-md border bg-muted/30 p-3",children:[(0,a.jsx)("div",{className:"flex flex-wrap gap-4 text-xs",children:Object.entries(D.nodeTypes).map(e=>{let[s,t]=e;return(0,a.jsxs)("label",{className:"flex items-center gap-1 capitalize",children:[(0,a.jsx)("input",{type:"checkbox",checked:t,onChange:e=>U(t=>({...t,nodeTypes:{...t.nodeTypes,[s]:e.target.checked}}))}),s]},s)})}),(0,a.jsx)("div",{className:"flex flex-wrap gap-4 text-xs",children:Object.entries(D.relations).map(e=>{let[s,t]=e;return(0,a.jsxs)("label",{className:"flex items-center gap-1",children:[(0,a.jsx)("input",{type:"checkbox",checked:t,onChange:e=>U(t=>({...t,relations:{...t.relations,[s]:e.target.checked}}))}),s.replace("_"," ")]},s)})})]}),(0,a.jsx)("div",{className:"h-[420px] w-full overflow-hidden rounded-md border",children:$&&(0,a.jsx)(w.c,{nodes:$.nodes,edges:$.edges})})]})]})]}),F&&(0,a.jsx)(y,{alerts:null!==(g=F.alerts)&&void 0!==g?g:[],companies:null!==(b=null===(t=F.entities)||void 0===t?void 0:t.companies)&&void 0!==b?b:[],publications:null!==(v=null===(o=F.entities)||void 0===o?void 0:o.papers)&&void 0!==v?v:[],patents:null!==(N=null===(d=F.entities)||void 0===d?void 0:d.patents)&&void 0!==N?N:[],filters:E,minPatentYear:G,maxPatentYear:K,setFilters:A})]})]})]})):(0,a.jsx)("div",{className:"min-h-screen flex items-center justify-center",children:(0,a.jsx)("p",{className:"text-muted-foreground",children:"Loading analysis data..."})})}function S(){return(0,a.jsx)(l.Suspense,{fallback:(0,a.jsx)("p",{className:"p-6",children:"Loading dashboard..."}),children:(0,a.jsx)(R,{})})}}},function(e){e.O(0,[569,761,391,197,827,971,23,744],function(){return e(e.s=59202)}),_N_E=e.O()}]);